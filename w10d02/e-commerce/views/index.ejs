<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta data -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My e-commerce!</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css" />

    <!-- External JS -->
    <script src="https://js.stripe.com/v3/"></script>

    <!-- Custom JS -->
    <script defer src="/js/currency-formatter.js"></script>
  </head>
  <body>
    <header class="header">
      <h1>Welcome to my e-commerce!</h1>
      <p>Here are all my variety of products, hope you like them!</p>
    </header>

    <main class="main">
      <section>
        <h2>My products</h2>
        <ul class="product-list">
          <% for (const prod of products) { %>
          <li class="product-list-item">
            <img
              src="<%= prod.imgUrl ||Â 'https://picsum.photos/200' %>"
              alt="<%= prod.name %>"
            />
            <h4><%= prod.name %></h4>
            <p class="product-price"><%= prod.price %></p>
            <form action="/api/checkout" method="POST">
              <input
                type="number"
                hidden
                name="productId"
                value="<%= prod.id %>"
              />
              <input
                type="text"
                hidden
                name="productName"
                value="<%= prod.name %>"
              />
              <input
                type="number"
                hidden
                name="productPrice"
                value="<%= prod.price %>"
              />
              <button type="submit" id="checkout-button">Checkout</button>
            </form>
          </li>
          <% } %>
        </ul>
      </section>
    </main>
  </body>
</html>
